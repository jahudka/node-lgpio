<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [lgpio](./lgpio.md) &gt; [txPulse](./lgpio.txpulse.md)

## txPulse() function

This starts software timed pulses on an output GPIO.

<b>Signature:</b>

```typescript
export declare function txPulse(handle: number, gpio: number, pulseOn: number, pulseOff: number, pulseOffset?: number, pulseCycles?: number): number;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  handle | number | The GPIO device handle as returned by [gpiochipOpen()](./lgpio.gpiochipopen.md) |
|  gpio | number | The GPIO number |
|  pulseOn | number | Pulse high time in microseconds |
|  pulseOff | number | Pulse low time in microseconds |
|  pulseOffset | number | <i>(Optional)</i> Offset from nominal pulse start position |
|  pulseCycles | number | <i>(Optional)</i> The number of pulses to send, 0 or unspecified for infinite |

<b>Returns:</b>

number

The number of entries left in the PWM queue for the GPIO

## Remarks

If both `pulseOn` and `pulseOff` are zero pulses will be switched off for that GPIO. The active pulse, if any, will be stopped and any queued pulses will be deleted.

Each successful call to this function consumes one PWM queue entry.

`pulseCycles` cycles are transmitted (0 or unspecified means infinite). Each cycle consists of `pulseOn` microseconds of GPIO high followed by `pulseOff` microseconds of GPIO low.

PWM is characterised by two values, its frequency (number of cycles per second) and its duty cycle (percentage of high time per cycle).

The set frequency will be `1000000 / (pulseOn + pulseOff)` Hz.

The set duty cycle will be `pulseOn / (pulseOn + pulseOff) * 100` %.

E.g. if `pulseOn` is 50 and `pulseOff` is 100 the frequency will be 6666.67 Hz and the duty cycle will be 33.33 %.

`pulseOffset` is a microsecond offset from the natural start of the PWM cycle.

For instance if the PWM frequency is 10 Hz the natural start of each cycle is at seconds 0, then 0.1, 0.2, 0.3 etc. In this case if the offset is 20000 microseconds the cycle will start at seconds 0.02, 0.12, 0.22, 0.32 etc.

Another pulse command may be issued to the GPIO before the last has finished.

If the last pulse had infinite cycles then it will be replaced by the new settings at the end of the current cycle. Otherwise it will be replaced by the new settings when all its cycles are compete.

Multiple pulse settings may be queued in this way.

